!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(1),i=r(a);!function(n,r,a){var i=new r;a?a[n]=i:("undefined"!=typeof e&&e.exports&&(t=e.exports=i),t[n]=i)}("baxter",i["default"],window)},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),u=r(o),l=n(3),c=r(l),s=function(){function e(){function t(e,t){var n;return function(){var r=function(){e(),n=null};clearTimeout(n),n=setTimeout(r,t)}}var n=this;a(this,e);var r=1;this.objectUID=new Map,this.callstack=new Map,this.eventStream=new u["default"](this),this.utils={createObjectUID:function(e){var t=r++;return n.objectUID.set(e,t),t},getUIDByObject:function(e){return n.objectUID.has(e)?n.objectUID.get(e):n.utils.createObjectUID(e)},createKeyUID:function(e,t){return n.utils.getUIDByObject(e)+":"+t}};var i=t(function(){n.eventStream.post("will-change-all")},20);this.eventStream.on("will-change",i)}return i(e,[{key:"subscribe",value:function(e,t,n){if(!e||!t||!n)throw new c["default"]("can't subscribe variable without owner, key or callback function.");var r=this.utils.createKeyUID(e,t);this.eventStream.on("set",function(e){e.uid===r&&n(e.value,e.oldValue)})}},{key:"resolve",value:function(e){var t=new Set,n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var u=i.value;t.add(this.callstack.get(u))}}catch(l){r=!0,a=l}finally{try{!n&&o["return"]&&o["return"]()}finally{if(r)throw a}}return Promise.all(t)}},{key:"getDependencies",value:function(e,t){this.eventStream.on("get",t);var n=e();return this.eventStream.off("get",t),n}},{key:"addToStack",value:function(e,t,n){var r=this,a=this.utils.createKeyUID(e,t),i=function(e){r.callstack["delete"](a),r.callstack.size||r.eventStream.post("change-complete"),e()};this.eventStream.post("will-change",{uid:a,owner:e,key:t}),this.callstack.set(a,new Promise(function(e){r.eventStream.once("will-change-all",function(){var t=n();t instanceof Promise?t.then(function(){i(e)}):i(e)})}))}},{key:"observable",value:function(e,t,n){var r=this,a=n,i=this.utils.createKeyUID(e,t);return this.eventStream.post("registered",{uid:i,owner:e,key:t}),Object.defineProperty(e,t,{set:function(n){return n===a?!1:void r.addToStack(e,t,function(){var o=a;a=n,r.eventStream.post("set",{uid:i,owner:e,key:t,value:a,oldValue:o})})},get:function(){return r.eventStream.post("get",{uid:i,owner:e,key:t,value:a}),a}}),a}},{key:"computed",value:function(e,t,n,r){var a=this,i=void 0,o=void 0,u=!1,l=this.utils.createKeyUID(e,t),s=new Set,f=function(r){if(r.uid===l)throw new c["default"]("Circular dependencies detected on "+t+" value.");s.add(a.utils.createKeyUID(r.owner,r.key));var f=function(){a.addToStack(e,t,function(){return a.resolve(s).then(function(){return o=i,i=n.call(e)}).then(function(n){return u=!1,o===n?!1:void a.eventStream.post("set",{uid:l,owner:e,key:t,value:n,oldValue:o})})})};a.eventStream.on("will-change",function(e){return e.uid!==r.uid||u?!1:(f(),void(u=!0))}),a.subscribe(r.owner,r.key,function(){u||f()})};if(this.eventStream.post("registered",{uid:l,owner:e,key:t}),Symbol.iterator in Object(r)){var v=!0,d=!1,h=void 0;try{for(var y,w=r[Symbol.iterator]();!(v=(y=w.next()).done);v=!0){var p=y.value;f(p)}}catch(m){d=!0,h=m}finally{try{!v&&w["return"]&&w["return"]()}finally{if(d)throw h}}}return i=this.getDependencies(n,f),Object.defineProperty(e,t,{get:function(){return a.eventStream.post("get",{uid:l,owner:e,key:t,value:i}),i},set:function(e){if(e!==e)throw new c["default"]("you can't set value to computed")}}),i}}]),e}();t["default"]=s,e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){n(this,e),this.channels=new Map,this.context=t||this}return r(e,[{key:"on",value:function(e,t){if(!e||!t)throw new Error("Can't init event listener: no parameters given");this.channels.has(e)||this.channels.set(e,new Set),this.channels.get(e).add(t)}},{key:"once",value:function(e,t){function n(a){return r.off(e,n),t(a)}if(!e||!t)throw new Error("Can't init event listener: no parameters given");var r=this;this.channels.has(e)||this.channels.set(e,new Set),this.channels.get(e).add(n)}},{key:"off",value:function(e,t){if(!e)throw new Error("Can't remove event listener: no event");if(!t)return this.channels["delete"](e);var n=this.channels.get(e);n["delete"](t),n.size||this.channels["delete"](e)}},{key:"post",value:function(e,t){var n=this;if(!e)throw new Error("Can't post undefined event");return this.channels.has(e)?("system:all"!==e&&this.post("system:all",{event:e,data:t}),new Promise(function(r){var a=!0,i=!1,o=void 0;try{for(var u,l=n.channels.get(e).values()[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value;c.call(n.context,t)}}catch(s){i=!0,o=s}finally{try{!a&&l["return"]&&l["return"]()}finally{if(i)throw o}}r()})):new Promise(function(e){return e()})}},{key:"all",value:function(e){var t=this;this.on("system:all",function(n){e.call(t.context,n)})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function a(e){return n(this,a),new Error("[Twin.js]: "+e)};t["default"]=r,e.exports=t["default"]}]);